Я придумал следующий алгоритм:
1. Создаем множество A, состоящее из всех файлов в данной папке и во всех ее подпапках
2. Создаем другое пустое множество B, в котором будут храниться файлы, добавленные в список
3. Пока множество A не пустое:

    Ищем в нем файл, у которого все зависимости есть в множестве B. Удаляем его из множества A, добавляем в множество B и в конечный список

    Если в какой-то момент мы не смогли удалить файл из множества A - значит существует циклическая зависимость

В классах File и Directory я решил делать методы и поля не ```public```, а ```package``` потому что при подключении данного проекта как модуля разработчику вряд ли нужен будет доступ к моей реализации этих классов